{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","site","localStorage","getItem","siteObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","s","toUpperCase","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","onbeforeunload","string","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,YAAYC,EAAE,YAAF,CAAlB;AACA,IAAMC,UAAUF,UAAUG,IAAV,CAAe,SAAf,CAAhB,EAA0C;AAC1C,IAAMC,OAAOC,aAAaC,OAAb,CAAqB,MAArB,CAAb,EAA0C;AAC1C,IAAMC,aAAaC,KAAKC,KAAL,CAAWL,IAAX,CAAnB;AACA,IAAMM,UAAUH,cAAc;AAC5B;AACA,EAACI,MAAM,GAAP,EAAYC,KAAK,sBAAjB,EAF4B,EAG5B,EAACD,MAAM,GAAP,EAAYC,KAAK,0BAAjB,EAH4B,EAI5B,EAACD,MAAM,GAAP,EAAYC,KAAK,yCAAjB,EAJ4B,EAK5B,EAACD,MAAM,GAAP,EAAYC,KAAK,wBAAjB,EAL4B,CAA9B;AAOA,IAAMC,cAAc,SAAdA,WAAc,CAACD,GAAD,EAAS;AAC3B,SAAOA,IACJE,OADI,CACI,UADJ,EACgB,EADhB,EAEJA,OAFI,CAEI,SAFJ,EAEe,EAFf,EAGJA,OAHI,CAGI,MAHJ,EAGY,EAHZ,EAIJA,OAJI,CAII,MAJJ,EAIY,EAJZ,EAKJA,OALI,CAKI,KALJ,EAKW,EALX,EAMJA,OANI,CAMI,OANJ,EAMa,EANb,EAOJA,OAPI,CAOI,MAPJ,EAOY,EAPZ,EAOgB;AAPhB,GAQJA,OARI,CAQI,KARJ,EAQW;AAAA,WAAKC,EAAEC,WAAF,EAAL;AAAA,GARX,CAAP,CAD2B,CASa;AACzC,CAVD;;AAYA,IAAMC,SAAS,SAATA,MAAS,GAAM;AACnBjB,YAAUG,IAAV,CAAe,eAAf,EAAgCe,MAAhC,GADmB,CACsB;AACzCR,UAAQS,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC/B,QAAMC,MAAMrB,qEAEYmB,KAAKT,IAFjB,4CAGYE,YAAYO,KAAKR,GAAjB,CAHZ,iLASJW,YATI,CASSrB,OATT,CAAZ;AAUAoB,QAAIE,EAAJ,CAAO,OAAP,EAAgB,YAAM;AACpBC,aAAOC,IAAP,CAAYN,KAAKR,GAAjB;AACD,KAFD;AAGAU,QAAIE,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAACG,CAAD,EAAO;AAC/BA,QAAEC,eAAF,GAD+B,CACX;AACpBlB,cAAQmB,MAAR,CAAeR,KAAf,EAAsB,CAAtB;AACAJ,eAH+B,CAGtB;AACV,KAJD;AAKD,GAnBD;AAoBD,CAtBD;;AAwBAA;;AAEAhB,EAAE,YAAF,EAAgBuB,EAAhB,CAAmB,OAAnB,EAA4B,YAAM;AAChC,MAAIZ,MAAMa,OAAOK,MAAP,CAAc,OAAd,CAAV;AACA,MAAIlB,IAAImB,OAAJ,CAAY,MAAZ,MAAwB,CAA5B,EAA+B;AAC7BnB,UAAM,aAAaA,GAAnB;AACD;AACDF,UAAQsB,IAAR,CAAa;AACXrB,UAAME,YAAYD,GAAZ,EAAiB,CAAjB,EAAoBI,WAApB,EADK;AAEXJ,SAAKA;AAFM,GAAb;AAIAK;AACD,CAVD;AAWAQ,OAAOQ,cAAP,GAAwB,YAAM;AAC5B,MAAMC,SAAS1B,KAAK2B,SAAL,CAAezB,OAAf,CAAf;AACAL,eAAa+B,OAAb,CAAqB,MAArB,EAA6BF,MAA7B;AACD,CAHD","file":"main.867550d4.map","sourceRoot":"../src","sourcesContent":["const $siteList = $(\".site-list\")\nconst $lastLi = $siteList.find(\"li.last\") // 读取 localStorage 中 site 键的值\nconst site = localStorage.getItem(\"site\") // 将值转化为对象\nconst siteObject = JSON.parse(site)\nconst hashMap = siteObject || [\n  // 默认总是存在 || 后的网址\n  {logo: \"A\", url: \"https://www.acfun.cn\"},\n  {logo: \"B\", url: \"https://www.bilibili.com\"},\n  {logo: \"J\", url: \"https://juejin.cn/user/3413315881539149\"},\n  {logo: \"Z\", url: \"https://www.zhihu.com/\"},\n]\nconst simplifyUrl = (url) => {\n  return url\n    .replace(\"https://\", \"\")\n    .replace(\"http://\", \"\")\n    .replace(\"www.\", \"\")\n    .replace(\".com\", \"\")\n    .replace(\".cn\", \"\")\n    .replace(\".html\", \"\")\n    .replace(/\\/.*/, \"\") // 删除 / 之后的所有内容\\\n    .replace(/^\\S/, s => s.toUpperCase()) // 首字母大写\n}\n\nconst render = () => {\n  $siteList.find(\"li:not(.last)\").remove() //注意 :not 之间没有空格\n  hashMap.forEach((node, index) => {\n    const $li = $(`<li>\n      <div class=\"site\">\n        <div class=\"logo\">${node.logo}</div>\n        <div class=\"link\">${simplifyUrl(node.url)}</div>\n        <div class=\"close\">\n          <svg class=\"icon\">\n            <use xlink:href=\"#icon-close\"></use>\n          </svg></div>\n      </div>\n    </li>`).insertBefore($lastLi)\n    $li.on(\"click\", () => {\n      window.open(node.url)\n    })\n    $li.on(\"click\", \".close\", (e) => {\n      e.stopPropagation() // 阻止冒泡\n      hashMap.splice(index, 1)\n      render() // 删掉后重新渲染\n    })\n  })\n}\n\nrender()\n\n$(\".addButton\").on(\"click\", () => {\n  let url = window.prompt(\"请输入网址\")\n  if (url.indexOf(\"http\") !== 0) {\n    url = \"https://\" + url\n  }\n  hashMap.push({\n    logo: simplifyUrl(url)[0].toUpperCase(),\n    url: url,\n  })\n  render()\n})\nwindow.onbeforeunload = () => {\n  const string = JSON.stringify(hashMap)\n  localStorage.setItem(\"site\", string)\n}\n"]}